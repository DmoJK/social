{"ast":null,"code":"import _objectSpread from\"/Users/artemparhomenko/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/artemparhomenko/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{connect}from\"react-redux\";import React from'react';import Profile from\"./Profile\";import{getProfile,getStatus,updateStatus,updatePhoto,updateProfile,addPost}from\"../../redux/profile-reducer\";import{useLocation,useNavigate,useParams}from'react-router-dom';import{withAuthRedirect}from\"../../hoc/withAuthRedirect\";import{compose}from\"redux\";import{useEffect}from\"react\";import{useState}from\"react\";import{getUserId}from\"../../selectors/header-selector\";import{getProfileSelector,getStatusSelector}from\"../../selectors/profile-selector\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProfileContainer=function ProfileContainer(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOwner=_useState2[0],setIsOwner=_useState2[1];var loadProfile=function loadProfile(){var userId=props.router.params.userId;props.getProfile(userId);props.getStatus(userId);if(props.router.params.userId==props.id){setIsOwner(true);}else{setIsOwner(false);}};useEffect(function(){loadProfile();},[props.router.params.userId]);return/*#__PURE__*/_jsx(Profile,_objectSpread(_objectSpread({},props),{},{profile:props.profile,status:props.status,updateStatus:props.updateStatus,isOwner:isOwner,updatePhoto:props.updatePhoto,updateProfile:props.updateProfile,addPost:props.addPost,postsData:props.postsData}));};var mapStateToProps=function mapStateToProps(state){return{profile:getProfileSelector(state),status:getStatusSelector(state),id:getUserId(state),postsData:state.profilePage.postsData};};function withRouter(Component){function ComponentWithRouterProp(props){var location=useLocation();var navigate=useNavigate();var params=useParams();return/*#__PURE__*/_jsx(Component,_objectSpread(_objectSpread({},props),{},{router:{location:location,navigate:navigate,params:params}}));}return ComponentWithRouterProp;}export default compose(connect(mapStateToProps,{getProfile:getProfile,getStatus:getStatus,updateStatus:updateStatus,updatePhoto:updatePhoto,updateProfile:updateProfile,addPost:addPost}),withRouter,withAuthRedirect)(ProfileContainer);","map":{"version":3,"names":["connect","React","Profile","getProfile","getStatus","updateStatus","updatePhoto","updateProfile","addPost","useLocation","useNavigate","useParams","withAuthRedirect","compose","useEffect","useState","getUserId","getProfileSelector","getStatusSelector","ProfileContainer","props","isOwner","setIsOwner","loadProfile","userId","router","params","id","profile","status","postsData","mapStateToProps","state","profilePage","withRouter","Component","ComponentWithRouterProp","location","navigate"],"sources":["/Users/artemparhomenko/my-app/src/components/Profile/ProfileContainer.jsx"],"sourcesContent":["import { connect } from \"react-redux\";\nimport React from 'react';\nimport Profile from \"./Profile\";\nimport { getProfile, getStatus, updateStatus, updatePhoto, updateProfile, addPost } from \"../../redux/profile-reducer\";\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\nimport { compose } from \"redux\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { getUserId } from \"../../selectors/header-selector\";\nimport { getProfileSelector, getStatusSelector } from \"../../selectors/profile-selector\";\n\nconst ProfileContainer = (props) => {\n    let [isOwner, setIsOwner] = useState(false)\n\n    const loadProfile = () => {\n        let userId = props.router.params.userId\n        props.getProfile(userId)\n        props.getStatus(userId)\n\n        if (props.router.params.userId == props.id) {\n            setIsOwner(true)\n        }\n        else {\n            setIsOwner(false)\n        }\n    }\n\n    useEffect(() => {\n        loadProfile()\n    }, [props.router.params.userId])\n\n    return <Profile {...props}\n        profile={props.profile}\n        status={props.status}\n        updateStatus={props.updateStatus}\n        isOwner={isOwner}\n        updatePhoto={props.updatePhoto}\n        updateProfile={props.updateProfile}\n        addPost={props.addPost}\n        postsData={props.postsData} />\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        profile: getProfileSelector(state),\n        status: getStatusSelector(state),\n        id: getUserId(state),\n        postsData: state.profilePage.postsData\n    }\n}\n\nfunction withRouter(Component) {\n    function ComponentWithRouterProp(props) {\n        let location = useLocation();\n        let navigate = useNavigate();\n        let params = useParams();\n        return (\n            <Component\n                {...props}\n                router={{ location, navigate, params }}\n            />\n        );\n    }\n    return ComponentWithRouterProp;\n}\n\nexport default compose(\n    connect(mapStateToProps, { getProfile, getStatus, updateStatus, updatePhoto, updateProfile, addPost }),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer)"],"mappings":"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"},"metadata":{},"sourceType":"module"}