{"ast":null,"code":"import _regeneratorRuntime from\"/Users/artemparhomenko/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/artemparhomenko/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";var instance=axios.create({baseURL:\"https://social-network.samuraijs.com/api/1.0/\",withCredentials:true,headers:{\"API-KEY\":\"0f06b5ba-321d-4f03-b585-06a627d78d00\"}});export var usersAPI={getUsers:function(){var _getUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(currentPage){var pageSize,response,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:pageSize=_args.length>1&&_args[1]!==undefined?_args[1]:5;_context.next=3;return instance.get(\"users?page=\".concat(currentPage,\"&count=\").concat(pageSize));case 3:response=_context.sent;return _context.abrupt(\"return\",response.data);case 5:case\"end\":return _context.stop();}}},_callee);}));function getUsers(_x){return _getUsers.apply(this,arguments);}return getUsers;}(),unfollow:function(){var _unfollow=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return instance.delete(\"follow/\".concat(id));case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));function unfollow(_x2){return _unfollow.apply(this,arguments);}return unfollow;}(),follow:function(){var _follow=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return instance.post(\"follow/\".concat(id));case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));function follow(_x3){return _follow.apply(this,arguments);}return follow;}()};export var profileAPI={getProfile:function(){var _getProfile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return instance.get(\"profile/\".concat(id));case 2:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));function getProfile(_x4){return _getProfile.apply(this,arguments);}return getProfile;}(),getStatus:function(){var _getStatus=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return instance.get(\"/profile/status/\".concat(id));case 2:response=_context5.sent;return _context5.abrupt(\"return\",response.data);case 4:case\"end\":return _context5.stop();}}},_callee5);}));function getStatus(_x5){return _getStatus.apply(this,arguments);}return getStatus;}(),updateStatus:function updateStatus(status){return instance.put(\"/profile/status\",{status:status});},updatePhoto:function updatePhoto(image){var formData=new FormData();formData.append('image',image);return instance.put(\"/profile/photo\",formData,{headers:{'Content-Type':'multipart/form-data'}});},updateProfile:function updateProfile(description){return instance.put(\"/profile\",description);}};export var authAPI={login:function login(email,password){var rememberMe=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var captcha=arguments.length>3?arguments[3]:undefined;return instance.post(\"/auth/login\",{email:email,password:password,rememberMe:rememberMe,captcha:captcha});},logout:function logout(){return instance.delete(\"/auth/login\");},getYourProfile:function(){var _getYourProfile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(){var response;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return instance.get(\"auth/me\");case 2:response=_context6.sent;return _context6.abrupt(\"return\",response.data);case 4:case\"end\":return _context6.stop();}}},_callee6);}));function getYourProfile(){return _getYourProfile.apply(this,arguments);}return getYourProfile;}(),getCaptcha:function(){var _getCaptcha=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(){var response;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return instance.get(\"/security/get-captcha-url\");case 2:response=_context7.sent;return _context7.abrupt(\"return\",response.data);case 4:case\"end\":return _context7.stop();}}},_callee7);}));function getCaptcha(){return _getCaptcha.apply(this,arguments);}return getCaptcha;}()};","map":{"version":3,"names":["axios","instance","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","response","data","unfollow","id","delete","follow","post","profileAPI","getProfile","getStatus","updateStatus","status","put","updatePhoto","image","formData","FormData","append","updateProfile","description","authAPI","login","email","password","rememberMe","captcha","logout","getYourProfile","getCaptcha"],"sources":["/Users/artemparhomenko/my-app/src/api/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst instance = axios.create({\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n    withCredentials: true,\n    headers: { \"API-KEY\": \"0f06b5ba-321d-4f03-b585-06a627d78d00\" }\n})\n\nexport const usersAPI = {\n    getUsers: async (currentPage, pageSize = 5) => {\n        const response = await instance.get(`users?page=${currentPage}&count=${pageSize}`)\n        return response.data\n    },\n    unfollow: async (id) => {\n        const response = await instance.delete(`follow/${id}`)\n        return response.data\n    },\n    follow: async (id) => {\n        const response = await instance.post(`follow/${id}`)\n        return response.data\n    }\n}\n\nexport const profileAPI = {\n    getProfile: async (id) => {\n        const response = await instance.get(`profile/${id}`)\n        return response.data\n    },\n    getStatus: async (id) => {\n        const response = await instance.get(`/profile/status/${id}`)\n        return response.data\n    },\n    updateStatus: (status) => {\n        return instance.put(`/profile/status`,\n            { status: status })\n    },\n    updatePhoto: (image) => {\n        let formData = new FormData()\n        formData.append('image', image)\n        return instance.put(`/profile/photo`,\n            formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n    },\n    updateProfile: (description) => {\n        return instance.put(`/profile`, description)\n    }\n}\n\nexport const authAPI = {\n    login: (email, password, rememberMe = false, captcha) => {\n        return instance.post(`/auth/login`,\n            { email, password, rememberMe, captcha }\n        )\n    },\n    logout: () => {\n        return instance.delete(`/auth/login`,)\n    },\n    getYourProfile: async () => {\n        const response = await instance.get(`auth/me`)\n        return response.data\n    },\n    getCaptcha: async () => {\n        const response = await instance.get(`/security/get-captcha-url`)\n        return response.data\n    }\n}"],"mappings":"sPAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,GAAMC,SAAQ,CAAGD,KAAK,CAACE,MAAN,CAAa,CAC1BC,OAAO,CAAE,+CADiB,CAE1BC,eAAe,CAAE,IAFS,CAG1BC,OAAO,CAAE,CAAE,UAAW,sCAAb,CAHiB,CAAb,CAAjB,CAMA,MAAO,IAAMC,SAAQ,CAAG,CACpBC,QAAQ,oFAAE,iBAAOC,WAAP,0JAAoBC,QAApB,+CAA+B,CAA/B,uBACiBR,SAAQ,CAACS,GAAT,sBAA2BF,WAA3B,mBAAgDC,QAAhD,EADjB,QACAE,QADA,+CAECA,QAAQ,CAACC,IAFV,wDAAF,oFADY,CAKpBC,QAAQ,oFAAE,kBAAOC,EAAP,4JACiBb,SAAQ,CAACc,MAAT,kBAA0BD,EAA1B,EADjB,QACAH,QADA,iDAECA,QAAQ,CAACC,IAFV,0DAAF,qFALY,CASpBI,MAAM,kFAAE,kBAAOF,EAAP,4JACmBb,SAAQ,CAACgB,IAAT,kBAAwBH,EAAxB,EADnB,QACEH,QADF,iDAEGA,QAAQ,CAACC,IAFZ,0DAAF,+EATc,CAAjB,CAeP,MAAO,IAAMM,WAAU,CAAG,CACtBC,UAAU,sFAAE,kBAAOL,EAAP,4JACeb,SAAQ,CAACS,GAAT,mBAAwBI,EAAxB,EADf,QACFH,QADE,iDAEDA,QAAQ,CAACC,IAFR,0DAAF,2FADY,CAKtBQ,SAAS,qFAAE,kBAAON,EAAP,4JACgBb,SAAQ,CAACS,GAAT,2BAAgCI,EAAhC,EADhB,QACDH,QADC,iDAEAA,QAAQ,CAACC,IAFT,0DAAF,wFALa,CAStBS,YAAY,CAAE,sBAACC,MAAD,CAAY,CACtB,MAAOrB,SAAQ,CAACsB,GAAT,mBACH,CAAED,MAAM,CAAEA,MAAV,CADG,CAAP,CAEH,CAZqB,CAatBE,WAAW,CAAE,qBAACC,KAAD,CAAW,CACpB,GAAIC,SAAQ,CAAG,GAAIC,SAAJ,EAAf,CACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBH,KAAzB,EACA,MAAOxB,SAAQ,CAACsB,GAAT,kBACHG,QADG,CACO,CACVrB,OAAO,CAAE,CACL,eAAgB,qBADX,CADC,CADP,CAAP,CAMH,CAtBqB,CAuBtBwB,aAAa,CAAE,uBAACC,WAAD,CAAiB,CAC5B,MAAO7B,SAAQ,CAACsB,GAAT,YAAyBO,WAAzB,CAAP,CACH,CAzBqB,CAAnB,CA4BP,MAAO,IAAMC,QAAO,CAAG,CACnBC,KAAK,CAAE,eAACC,KAAD,CAAQC,QAAR,CAAkD,IAAhCC,WAAgC,2DAAnB,KAAmB,IAAZC,QAAY,2CACrD,MAAOnC,SAAQ,CAACgB,IAAT,eACH,CAAEgB,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAmBC,UAAU,CAAVA,UAAnB,CAA+BC,OAAO,CAAPA,OAA/B,CADG,CAAP,CAGH,CALkB,CAMnBC,MAAM,CAAE,iBAAM,CACV,MAAOpC,SAAQ,CAACc,MAAT,eAAP,CACH,CARkB,CASnBuB,cAAc,0FAAE,8KACWrC,SAAQ,CAACS,GAAT,WADX,QACNC,QADM,iDAELA,QAAQ,CAACC,IAFJ,0DAAF,oGATK,CAanB2B,UAAU,sFAAE,8KACetC,SAAQ,CAACS,GAAT,6BADf,QACFC,QADE,iDAEDA,QAAQ,CAACC,IAFR,0DAAF,wFAbS,CAAhB"},"metadata":{},"sourceType":"module"}