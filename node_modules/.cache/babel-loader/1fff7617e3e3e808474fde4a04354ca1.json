{"ast":null,"code":"import _regeneratorRuntime from\"/Users/artemparhomenko/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/artemparhomenko/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/artemparhomenko/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/artemparhomenko/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{profileAPI}from\"../api/api\";var ADD_POST='ADD-POST';var SET_USER_PROFILE='SET-USER-PROFILE';var SET_USER_STATUS='SET-USER-STATUS';var initialState={postsData:[{id:1,message:'Hi, how are you?',likesCount:12},{id:2,message:'It\\'s my first post',likesCount:11}],profile:null,status:''};var profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_POST:var newPost=action.newPost;return _objectSpread(_objectSpread({},state),{},{postsData:[].concat(_toConsumableArray(state.postsData),[{id:5,message:newPost,likesCount:0}])});case SET_USER_PROFILE:return _objectSpread(_objectSpread({},state),{},{profile:action.profile});case SET_USER_STATUS:return _objectSpread(_objectSpread({},state),{},{status:action.status});default:return state;}};export var addPost=function addPost(newPost){return{type:ADD_POST,newPost:newPost};};export var setUserProfile=function setUserProfile(profile){return{type:SET_USER_PROFILE,profile:profile};};export var setUserStatus=function setUserStatus(status){return{type:SET_USER_STATUS,status:status};};export var getProfile=function getProfile(userId){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return profileAPI.getProfile(userId);case 2:response=_context.sent;dispatch(setUserProfile(response));case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getStatus=function getStatus(userId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return profileAPI.getStatus(userId);case 2:response=_context2.sent;dispatch(setUserStatus(response));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var updateStatus=function updateStatus(status){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return profileAPI.updateStatus(status);case 2:response=_context3.sent;if(response.data.resultCode===0){dispatch(setUserStatus(response));}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export default profileReducer;","map":{"version":3,"names":["profileAPI","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","initialState","postsData","id","message","likesCount","profile","status","profileReducer","state","action","type","newPost","addPost","setUserProfile","setUserStatus","getProfile","userId","dispatch","response","getStatus","updateStatus","data","resultCode"],"sources":["/Users/artemparhomenko/my-app/src/redux/profile-reducer.js"],"sourcesContent":["import { profileAPI } from \"../api/api\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET-USER-PROFILE'\nconst SET_USER_STATUS = 'SET-USER-STATUS'\n\nlet initialState = {\n    postsData: [\n        { id: 1, message: 'Hi, how are you?', likesCount: 12 },\n        { id: 2, message: 'It\\'s my first post', likesCount: 11 },\n    ],\n    profile: null,\n    status: ''\n};\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST:\n            let newPost = action.newPost;\n            return {\n                ...state,\n                postsData: [...state.postsData, { id: 5, message: newPost, likesCount: 0 }]\n            };\n        case SET_USER_PROFILE:\n            return {\n                ...state,\n                profile: action.profile\n            };\n        case SET_USER_STATUS:\n            return {\n                ...state,\n                status: action.status\n            };\n        default:\n            return state;\n    }\n}\n\nexport const addPost = (newPost) => ({ type: ADD_POST, newPost })\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status })\n\nexport const getProfile = (userId) => async (dispatch) => {\n    let response = await profileAPI.getProfile(userId)\n    dispatch(setUserProfile(response))\n}\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId)\n    dispatch(setUserStatus(response))\n}\nexport const updateStatus = (status) => async (dispatch) => {\n    let response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n        dispatch(setUserStatus(response))\n    }\n}\n\nexport default profileReducer;"],"mappings":"meAAA,OAASA,UAAT,KAA2B,YAA3B,CAEA,GAAMC,SAAQ,CAAG,UAAjB,CACA,GAAMC,iBAAgB,CAAG,kBAAzB,CACA,GAAMC,gBAAe,CAAG,iBAAxB,CAEA,GAAIC,aAAY,CAAG,CACfC,SAAS,CAAE,CACP,CAAEC,EAAE,CAAE,CAAN,CAASC,OAAO,CAAE,kBAAlB,CAAsCC,UAAU,CAAE,EAAlD,CADO,CAEP,CAAEF,EAAE,CAAE,CAAN,CAASC,OAAO,CAAE,qBAAlB,CAAyCC,UAAU,CAAE,EAArD,CAFO,CADI,CAKfC,OAAO,CAAE,IALM,CAMfC,MAAM,CAAE,EANO,CAAnB,CASA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,EAAkC,IAAjCC,MAAiC,2DAAzBR,YAAyB,IAAXS,OAAW,2CACrD,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKb,SAAL,CACI,GAAIc,QAAO,CAAGF,MAAM,CAACE,OAArB,CACA,sCACOH,KADP,MAEIP,SAAS,8BAAMO,KAAK,CAACP,SAAZ,GAAuB,CAAEC,EAAE,CAAE,CAAN,CAASC,OAAO,CAAEQ,OAAlB,CAA2BP,UAAU,CAAE,CAAvC,CAAvB,EAFb,GAIJ,IAAKN,iBAAL,CACI,sCACOU,KADP,MAEIH,OAAO,CAAEI,MAAM,CAACJ,OAFpB,GAIJ,IAAKN,gBAAL,CACI,sCACOS,KADP,MAEIF,MAAM,CAAEG,MAAM,CAACH,MAFnB,GAIJ,QACI,MAAOE,MAAP,CAlBR,CAoBH,CArBD,CAuBA,MAAO,IAAMI,QAAO,CAAG,QAAVA,QAAU,CAACD,OAAD,QAAc,CAAED,IAAI,CAAEb,QAAR,CAAkBc,OAAO,CAAPA,OAAlB,CAAd,EAAhB,CACP,MAAO,IAAME,eAAc,CAAG,QAAjBA,eAAiB,CAACR,OAAD,QAAc,CAAEK,IAAI,CAAEZ,gBAAR,CAA0BO,OAAO,CAAPA,OAA1B,CAAd,EAAvB,CACP,MAAO,IAAMS,cAAa,CAAG,QAAhBA,cAAgB,CAACR,MAAD,QAAa,CAAEI,IAAI,CAAEX,eAAR,CAAyBO,MAAM,CAANA,MAAzB,CAAb,EAAtB,CAEP,MAAO,IAAMS,WAAU,CAAG,QAAbA,WAAa,CAACC,MAAD,mGAAY,iBAAOC,QAAP,uJACbrB,WAAU,CAACmB,UAAX,CAAsBC,MAAtB,CADa,QAC9BE,QAD8B,eAElCD,QAAQ,CAACJ,cAAc,CAACK,QAAD,CAAf,CAAR,CAFkC,sDAAZ,gEAAnB,CAIP,MAAO,IAAMC,UAAS,CAAG,QAAZA,UAAY,CAACH,MAAD,oGAAY,kBAAOC,QAAP,4JACZrB,WAAU,CAACuB,SAAX,CAAqBH,MAArB,CADY,QAC7BE,QAD6B,gBAEjCD,QAAQ,CAACH,aAAa,CAACI,QAAD,CAAd,CAAR,CAFiC,wDAAZ,kEAAlB,CAIP,MAAO,IAAME,aAAY,CAAG,QAAfA,aAAe,CAACd,MAAD,oGAAY,kBAAOW,QAAP,4JACfrB,WAAU,CAACwB,YAAX,CAAwBd,MAAxB,CADe,QAChCY,QADgC,gBAEpC,GAAIA,QAAQ,CAACG,IAAT,CAAcC,UAAd,GAA6B,CAAjC,CAAoC,CAChCL,QAAQ,CAACH,aAAa,CAACI,QAAD,CAAd,CAAR,CACH,CAJmC,wDAAZ,kEAArB,CAOP,cAAeX,eAAf"},"metadata":{},"sourceType":"module"}